<!--
  @file users.html
  @description
    Displays a highly styled list of users in a table with a sticky header,
    search/filter UI, and interesting visual features.
    This template uses Thymeleaf's "th:each" to iterate over a list of users.
  @param users : List of User objects from the controller
  @return A visually impressive HTML page
-->
<!DOCTYPE html>
<html lang="fr" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8" />
    <title>Liste des Utilisateurs</title>
    <!-- Connect to the external CSS file -->
    <link rel="stylesheet" th:href="@{/css/users.css}" />
</head>
<body>
<!-- Messages Flash -->
<div class="flash-messages" style="max-width: 800px; margin: 1rem auto; text-align: center;">
    <div th:if="${success}" class="flash flash-success" th:text="${success}"></div>
    <div th:if="${error}" class="flash flash-error" th:text="${error}"></div>
</div>

<!--
  @section Header area
  Contains a top heading, short description, and possibly a decorative background.
-->
<header class="page-header">
    <div class="header-content">
        <h1 class="main-title">User Management</h1>
        <p class="subtitle">
            Welcome to your comprehensive user overview! From here you can filter, update or remove users.
        </p>
    </div>
</header>

<!--
  @section Search / Filter bar
  This section is just for show, but you can bind it to real logic if desired.
-->
<form class="filter-bar" method="get" th:action="@{/users}">
    <input type="text" name="search" class="search-input" placeholder="Search users..."
           th:value="${search}" />
    <button class="btn-filter" type="submit">Filtrer</button>
    <a class="btn-filter btn-refresh" th:href="@{/users}">Réinitialiser</a>
    <button class="btn-add-user" type="button" onclick="window.location.href='/users/add'">+ Add User</button>
</form>

<!--
  @section Table
  Displays users with a sticky header and advanced styling.
-->
<div class="table-container">
    <table class="user-table">
        <thead>
        <tr>
            <th scope="col">Prénom</th>
            <th scope="col">Nom</th>
            <th scope="col">Email</th>
            <th scope="col">Téléphone</th>
            <th scope="col">Genre</th>
            <th scope="col">Actif ?</th>
            <th scope="col">Date Création</th>
            <th scope="col" class="th-actions">Actions</th>
        </tr>
        </thead>
        <tbody>
        <!--
          @param user
          Loops over each user from the "users" list
        -->
        <tr th:each="user : ${users}">
            <td th:text="${user.firstName}">Prénom</td>
            <td th:text="${user.lastName}">Nom</td>
            <td th:text="${user.email}">Email</td>
            <td th:text="${user.phoneNumber}">Téléphone</td>
            <td th:text="${user.gender}">Genre</td>
            <td th:text="${user.actived}">true/false</td>
            <td th:text="${user.creationDate}">2025-04-10</td>
            <td class="cell-actions">
                <!-- Edit action (icon + tooltip) -->
                <button class="btn-action edit-btn"
                        th:onclick="|window.location.href='/users/edit/' + ${user.id}|"
                        data-tooltip="Modifier l'utilisateur">
                    <!-- Icon done with pseudo-elements -->
                </button>
                <!-- Delete action (icon + tooltip) -->
                <button class="btn-action delete-btn"
                        th:onclick="|window.location.href='/users/delete/' + ${user.id}|"
                        data-tooltip="Supprimer l'utilisateur">
                    <!-- Icon done with pseudo-elements -->
                </button>
                <!-- Suspend / Reactivate action -->
                <button class="btn-action"
                        th:classappend="${user.actived} ? 'suspend-btn' : 'reactivate-btn'"
                        th:onclick="|window.location.href='/users/toggle/' + ${user.id}|"
                        th:attr="data-tooltip=${user.actived} ? 'Suspendre l\'utilisateur' : 'Réactiver l\'utilisateur'">
                </button>

            </td>
        </tr>
        </tbody>
    </table>
</div>

<!--
  @section Pagination (fictive)
  Just for the impressive look, not wired to any actual logic
-->
<div class="pagination-bar">
    <button class="btn-page" disabled>&laquo; Prev</button>
    <button class="btn-page selected">1</button>
    <button class="btn-page">2</button>
    <button class="btn-page">3</button>
    <button class="btn-page">4</button>
    <button class="btn-page">Next &raquo;</button>
</div>

</body>
</html>
